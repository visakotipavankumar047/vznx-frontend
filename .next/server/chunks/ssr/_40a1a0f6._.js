module.exports=[98621,98474,45227,a=>{"use strict";a.s(["default",0,function(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d}],98621);var b=a.i(72131);let c=process.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:5000/api";async function d(a,b={}){let e=await fetch(`${c}${a}`,{headers:{"Content-Type":"application/json",...b.headers||{}},...b,cache:"no-store"});if(!e.ok)throw Error((await e.json().catch(()=>({}))).message||"Request failed");return 204===e.status?null:e.json()}let e={getProjects:()=>d("/projects"),createProject:a=>d("/projects",{method:"POST",body:JSON.stringify(a)}),updateProject:(a,b)=>d(`/projects/${a}`,{method:"PUT",body:JSON.stringify(b)}),updateProjectProgress:(a,b)=>d(`/projects/${a}/progress`,{method:"PATCH",body:JSON.stringify({progress:b})}),deleteProject:a=>d(`/projects/${a}`,{method:"DELETE"}),getTasks:a=>d(`/tasks/project/${a}`),createTask:a=>d("/tasks",{method:"POST",body:JSON.stringify(a)}),toggleTaskStatus:(a,b)=>d(`/tasks/${a}/status`,{method:"PATCH",body:JSON.stringify({status:b})}),updateTask:(a,b)=>d(`/tasks/${a}`,{method:"PATCH",body:JSON.stringify(b)}),deleteTask:a=>d(`/tasks/${a}`,{method:"DELETE"}),getTeamMembers:()=>d("/team-members"),createTeamMember:a=>d("/team-members",{method:"POST",body:JSON.stringify(a)}),updateTeamMember:(a,b)=>d(`/team-members/${a}`,{method:"PATCH",body:JSON.stringify(b)}),deleteTeamMember:a=>d(`/team-members/${a}`,{method:"DELETE"})};a.s(["api",0,e],98474);let f=a=>({...a,taskSummary:a.taskSummary??{total:0,completed:0}});function g(){let[a,c]=(0,b.useState)([]),[d,g]=(0,b.useState)([]),[h,i]=(0,b.useState)(!0),[j,k]=(0,b.useState)(()=>new Set);(0,b.useEffect)(()=>{let a=!1;return(async()=>{i(!0);try{let[b,d]=await Promise.all([e.getProjects(),e.getTeamMembers()]);a||(c(b.map(f)),g(d))}catch(a){console.error("Failed to load workspace data",a)}finally{a||i(!1)}})(),()=>{a=!0}},[]);let l=async()=>{g(await e.getTeamMembers())},m=async a=>{await e.createTeamMember(a),await l()};return{projects:a,teamMembers:d,loading:h,projectSyncing:j,handleProjectCreate:async a=>{let b=f(await e.createProject(a));return c(a=>[b,...a]),b},handleProjectDelete:async a=>{await e.deleteProject(a),c(b=>b.filter(b=>b._id!==a))},handleProgressUpdate:async(a,b)=>{k(b=>{let c=new Set(b);return c.add(a),c});try{let d=await e.updateProjectProgress(a,b);c(b=>b.map(b=>b._id===a?f({...b,...d}):b))}finally{k(b=>{let c=new Set(b);return c.delete(a),c})}},handleProjectHydrate:a=>{a&&c(b=>b.map(b=>b._id===a._id?f(a):b))},refreshTeam:l,handleTeamCreate:m}}a.s(["default",()=>g],45227)},17371,a=>{"use strict";let b=(0,a.i(70106).default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);a.s(["UserPlus",()=>b],17371)},96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},19429,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(17371),e=a.i(96221),f=a.i(98621);function g({teamMembers:a=[],onCreate:g=async()=>{}}){let[h,i]=(0,c.useState)({name:"",role:"Architect",capacity:5}),[j,k]=(0,c.useState)(!1),l=async a=>{if(a.preventDefault(),h.name.trim())try{k(!0),await g(h),i({name:"",role:"Architect",capacity:5})}finally{k(!1)}};return(0,b.jsxs)("section",{className:"surface-card space-y-5",children:[(0,b.jsxs)("header",{className:"flex flex-wrap items-start justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-slate-400",children:"Teams"}),(0,b.jsx)("h2",{className:"mt-2 text-2xl font-semibold text-slate-900",children:"Team workload"}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"An at-a-glance overview of your team capacity and assigned tasks."})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 px-4 py-2 text-right",children:[(0,b.jsx)("p",{className:"text-[10px] uppercase tracking-[0.35em] text-slate-400",children:"Members"}),(0,b.jsx)("p",{className:"text-2xl font-semibold text-slate-900",children:a.length})]})]}),(0,b.jsxs)("form",{onSubmit:l,className:"grid gap-3 rounded-2xl border border-slate-200 bg-slate-50/60 p-4 sm:grid-cols-2",children:[(0,b.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-slate-600",children:["Full name",(0,b.jsx)("input",{placeholder:"Alex Chen",value:h.name,onChange:a=>i(b=>({...b,name:a.target.value}))})]}),(0,b.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-slate-600",children:["Role",(0,b.jsx)("input",{placeholder:"Lead Architect",value:h.role,onChange:a=>i(b=>({...b,role:a.target.value}))})]}),(0,b.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-slate-600",children:["Weekly capacity",(0,b.jsx)("input",{type:"number",min:1,max:10,value:String(h.capacity),onChange:a=>i(b=>({...b,capacity:Math.max(1,Number(a.target.value)||1)}))})]}),(0,b.jsx)("div",{className:"flex items-end justify-end",children:(0,b.jsxs)("button",{type:"submit",disabled:j,className:"btn-primary",children:[j?(0,b.jsx)(e.Loader2,{size:16,className:"animate-spin"}):(0,b.jsx)(d.UserPlus,{size:16}),j?"Adding":"Add member"]})})]}),(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:a.length?a.map(a=>{let c=Array.isArray(a.tasks)?a.tasks:[],d=a.capacity||5,e=c.length||a.taskCount||0,g=Math.min(100,Math.round(e/d*100));return(0,b.jsxs)("article",{className:"flex items-center gap-4 rounded-2xl border border-slate-200 bg-white p-4",children:[(0,b.jsx)("div",{className:"flex h-14 w-14 items-center justify-center rounded-2xl bg-slate-100 text-lg font-semibold text-slate-700",children:((a="")=>{let[b="",c=""]=a.split(" ");return`${b.charAt(0)}${c.charAt(0)}`.toUpperCase()||a.charAt(0).toUpperCase()})(a.name)}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-slate-900",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:a.role})]}),(0,b.jsxs)("span",{className:(0,f.default)("status-pill text-xs",g<60?"bg-emerald-100 text-emerald-700":g<90?"bg-amber-100 text-amber-700":"bg-rose-100 text-rose-600"),children:[g,"% load"]})]}),(0,b.jsx)("div",{className:"mt-2 h-2 rounded-full bg-slate-100",children:(0,b.jsx)("div",{className:(0,f.default)("h-full rounded-full",g<60?"bg-emerald-500":g<90?"bg-amber-500":"bg-rose-500"),style:{width:`${Math.min(g,100)}%`}})}),(0,b.jsxs)("p",{className:"mt-1 text-xs text-slate-500",children:[e," / ",d," tasks"]})]})]},a._id)}):(0,b.jsx)("div",{className:"rounded-2xl border border-dashed border-slate-300 bg-white px-4 py-8 text-center text-slate-500",children:"Add your core team to start tracking workload."})})]})}a.s(["default",()=>g])},49179,a=>{"use strict";var b=a.i(87924),c=a.i(19429),d=a.i(45227);function e(){let{teamMembers:a,loading:e,handleTeamCreate:f}=(0,d.default)();return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("header",{className:"surface-card space-y-2",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-slate-400",children:"Teams"}),(0,b.jsx)("h1",{className:"text-3xl font-semibold text-slate-900",children:"Team capacity"}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Keep an eye on assignments and rebalance workloads quickly."})]}),e?(0,b.jsx)("div",{className:"surface-card flex items-center justify-center text-slate-400",children:"Loading..."}):(0,b.jsx)(c.default,{teamMembers:a,onCreate:f})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=_40a1a0f6._.js.map