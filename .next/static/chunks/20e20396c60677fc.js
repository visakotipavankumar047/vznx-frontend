(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7670,4581,76397,e=>{"use strict";e.s(["default",0,function(){for(var e,t,a=0,s="",r=arguments.length;a<r;a++)(e=arguments[a])&&(t=function e(t){var a,s,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t)){var l=t.length;for(a=0;a<l;a++)t[a]&&(s=e(t[a]))&&(r&&(r+=" "),r+=s)}else for(s in t)t[s]&&(r&&(r+=" "),r+=s);return r}(e))&&(s&&(s+=" "),s+=t);return s}],7670);var t=e.i(71645);let a=e.i(47167).default.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:5000/api";async function s(e,t={}){let r=await fetch(`${a}${e}`,{headers:{"Content-Type":"application/json",...t.headers||{}},...t,cache:"no-store"});if(!r.ok)throw Error((await r.json().catch(()=>({}))).message||"Request failed");return 204===r.status?null:r.json()}let r={getProjects:()=>s("/projects"),createProject:e=>s("/projects",{method:"POST",body:JSON.stringify(e)}),updateProject:(e,t)=>s(`/projects/${e}`,{method:"PUT",body:JSON.stringify(t)}),updateProjectProgress:(e,t)=>s(`/projects/${e}/progress`,{method:"PATCH",body:JSON.stringify({progress:t})}),deleteProject:e=>s(`/projects/${e}`,{method:"DELETE"}),getTasks:e=>s(`/tasks/project/${e}`),createTask:e=>s("/tasks",{method:"POST",body:JSON.stringify(e)}),toggleTaskStatus:(e,t)=>s(`/tasks/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t})}),updateTask:(e,t)=>s(`/tasks/${e}`,{method:"PATCH",body:JSON.stringify(t)}),deleteTask:e=>s(`/tasks/${e}`,{method:"DELETE"}),getTeamMembers:()=>s("/team-members"),createTeamMember:e=>s("/team-members",{method:"POST",body:JSON.stringify(e)}),updateTeamMember:(e,t)=>s(`/team-members/${e}`,{method:"PATCH",body:JSON.stringify(t)}),deleteTeamMember:e=>s(`/team-members/${e}`,{method:"DELETE"})};e.s(["api",0,r],4581);let l=e=>({...e,taskSummary:e.taskSummary??{total:0,completed:0}});function i(){let[e,a]=(0,t.useState)([]),[s,i]=(0,t.useState)([]),[c,n]=(0,t.useState)(!0),[d,o]=(0,t.useState)(()=>new Set);(0,t.useEffect)(()=>{let e=!1;return(async()=>{n(!0);try{let[t,s]=await Promise.all([r.getProjects(),r.getTeamMembers()]);e||(a(t.map(l)),i(s))}catch(e){console.error("Failed to load workspace data",e)}finally{e||n(!1)}})(),()=>{e=!0}},[]);let m=async()=>{i(await r.getTeamMembers())},x=async e=>{await r.createTeamMember(e),await m()};return{projects:e,teamMembers:s,loading:c,projectSyncing:d,handleProjectCreate:async e=>{let t=l(await r.createProject(e));return a(e=>[t,...e]),t},handleProjectDelete:async e=>{await r.deleteProject(e),a(t=>t.filter(t=>t._id!==e))},handleProgressUpdate:async(e,t)=>{o(t=>{let a=new Set(t);return a.add(e),a});try{let s=await r.updateProjectProgress(e,t);a(t=>t.map(t=>t._id===e?l({...t,...s}):t))}finally{o(t=>{let a=new Set(t);return a.delete(e),a})}},handleProjectHydrate:e=>{e&&a(t=>t.map(t=>t._id===e._id?l(e):t))},refreshTeam:m,handleTeamCreate:x}}e.s(["default",()=>i],76397)},79002,e=>{"use strict";let t=(0,e.i(75254).default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);e.s(["UserPlus",()=>t],79002)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},22066,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(79002),r=e.i(31278),l=e.i(7670);function i({teamMembers:e=[],onCreate:i=async()=>{}}){let[c,n]=(0,a.useState)({name:"",role:"Architect",capacity:5}),[d,o]=(0,a.useState)(!1),m=async e=>{if(e.preventDefault(),c.name.trim())try{o(!0),await i(c),n({name:"",role:"Architect",capacity:5})}finally{o(!1)}};return(0,t.jsxs)("section",{className:"surface-card space-y-5",children:[(0,t.jsxs)("header",{className:"flex flex-wrap items-start justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-slate-400",children:"Teams"}),(0,t.jsx)("h2",{className:"mt-2 text-2xl font-semibold text-slate-900",children:"Team workload"}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"An at-a-glance overview of your team capacity and assigned tasks."})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-200 px-4 py-2 text-right",children:[(0,t.jsx)("p",{className:"text-[10px] uppercase tracking-[0.35em] text-slate-400",children:"Members"}),(0,t.jsx)("p",{className:"text-2xl font-semibold text-slate-900",children:e.length})]})]}),(0,t.jsxs)("form",{onSubmit:m,className:"grid gap-3 rounded-2xl border border-slate-200 bg-slate-50/60 p-4 sm:grid-cols-2",children:[(0,t.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-slate-600",children:["Full name",(0,t.jsx)("input",{placeholder:"Alex Chen",value:c.name,onChange:e=>n(t=>({...t,name:e.target.value}))})]}),(0,t.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-slate-600",children:["Role",(0,t.jsx)("input",{placeholder:"Lead Architect",value:c.role,onChange:e=>n(t=>({...t,role:e.target.value}))})]}),(0,t.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-slate-600",children:["Weekly capacity",(0,t.jsx)("input",{type:"number",min:1,max:10,value:String(c.capacity),onChange:e=>n(t=>({...t,capacity:Math.max(1,Number(e.target.value)||1)}))})]}),(0,t.jsx)("div",{className:"flex items-end justify-end",children:(0,t.jsxs)("button",{type:"submit",disabled:d,className:"btn-primary",children:[d?(0,t.jsx)(r.Loader2,{size:16,className:"animate-spin"}):(0,t.jsx)(s.UserPlus,{size:16}),d?"Adding":"Add member"]})})]}),(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:e.length?e.map(e=>{let a=Array.isArray(e.tasks)?e.tasks:[],s=e.capacity||5,r=a.length||e.taskCount||0,i=Math.min(100,Math.round(r/s*100));return(0,t.jsxs)("article",{className:"flex items-center gap-4 rounded-2xl border border-slate-200 bg-white p-4",children:[(0,t.jsx)("div",{className:"flex h-14 w-14 items-center justify-center rounded-2xl bg-slate-100 text-lg font-semibold text-slate-700",children:((e="")=>{let[t="",a=""]=e.split(" ");return`${t.charAt(0)}${a.charAt(0)}`.toUpperCase()||e.charAt(0).toUpperCase()})(e.name)}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-slate-900",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:e.role})]}),(0,t.jsxs)("span",{className:(0,l.default)("status-pill text-xs",i<60?"bg-emerald-100 text-emerald-700":i<90?"bg-amber-100 text-amber-700":"bg-rose-100 text-rose-600"),children:[i,"% load"]})]}),(0,t.jsx)("div",{className:"mt-2 h-2 rounded-full bg-slate-100",children:(0,t.jsx)("div",{className:(0,l.default)("h-full rounded-full",i<60?"bg-emerald-500":i<90?"bg-amber-500":"bg-rose-500"),style:{width:`${Math.min(i,100)}%`}})}),(0,t.jsxs)("p",{className:"mt-1 text-xs text-slate-500",children:[r," / ",s," tasks"]})]})]},e._id)}):(0,t.jsx)("div",{className:"rounded-2xl border border-dashed border-slate-300 bg-white px-4 py-8 text-center text-slate-500",children:"Add your core team to start tracking workload."})})]})}e.s(["default",()=>i])},28066,e=>{"use strict";var t=e.i(43476),a=e.i(22066),s=e.i(76397);function r(){let{teamMembers:e,loading:r,handleTeamCreate:l}=(0,s.default)();return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("header",{className:"surface-card space-y-2",children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-slate-400",children:"Teams"}),(0,t.jsx)("h1",{className:"text-3xl font-semibold text-slate-900",children:"Team capacity"}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"Keep an eye on assignments and rebalance workloads quickly."})]}),r?(0,t.jsx)("div",{className:"surface-card flex items-center justify-center text-slate-400",children:"Loading..."}):(0,t.jsx)(a.default,{teamMembers:e,onCreate:l})]})}e.s(["default",()=>r])}]);