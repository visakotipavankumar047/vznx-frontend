{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Documents/Programming/assignments/vznx/frontend/components/ProjectDashboard.js"],"sourcesContent":["'use client';\n\nimport { useMemo, useState } from 'react';\nimport { Plus, Search, Filter, Trash2 } from 'lucide-react';\nimport clsx from 'clsx';\n\nconst statusTone = {\n  Planned: 'bg-slate-100 text-slate-600',\n  'In Progress': 'bg-blue-100 text-blue-700',\n  'At Risk': 'bg-amber-100 text-amber-700',\n  Completed: 'bg-green-100 text-green-700',\n  'On Hold': 'bg-orange-100 text-orange-700',\n  Cancelled: 'bg-red-100 text-red-600',\n};\n\nconst formatDate = (value) => {\n  if (!value) return 'No deadline';\n  return new Intl.DateTimeFormat('en', { month: 'short', day: 'numeric' }).format(new Date(value));\n};\n\nexport default function ProjectDashboard({\n  projects = [],\n  selectedProjectId,\n  onSelect = () => {},\n  onCreate = async () => {},\n  onDelete = () => {},\n  onProgressUpdate = async () => {},\n  busyProjectIds = new Set(),\n}) {\n  const [form, setForm] = useState({\n    name: '',\n    studio: 'Core Studio',\n    dueDate: '',\n    color: '#1d4ed8',\n  });\n  const [showForm, setShowForm] = useState(false);\n  const [progressDrafts, setProgressDrafts] = useState({});\n  const [submitting, setSubmitting] = useState(false);\n  const [search, setSearch] = useState('');\n\n  const filtered = useMemo(() => {\n    if (!search.trim()) return projects;\n    return projects.filter((project) =>\n      project.name?.toLowerCase().includes(search.trim().toLowerCase()),\n    );\n  }, [projects, search]);\n\n  const totals = useMemo(() => {\n    if (!projects.length) {\n      return { average: 0, active: 0, completed: 0 };\n    }\n    const completed = projects.filter((p) => p.status === 'Completed').length;\n    const active = projects.length - completed;\n    const average = Math.round(\n      projects.reduce((acc, project) => acc + (project.progress || 0), 0) / projects.length,\n    );\n\n    return { average, active, completed };\n  }, [projects]);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    if (!form.name.trim()) return;\n    try {\n      setSubmitting(true);\n      await onCreate(form);\n      setForm({\n        name: '',\n        studio: 'Core Studio',\n        dueDate: '',\n        color: '#1d4ed8',\n      });\n      setShowForm(false);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const handleProgressChange = (projectId, value) => {\n    setProgressDrafts((prev) => ({\n      ...prev,\n      [projectId]: value,\n    }));\n  };\n\n  const commitProgress = async (projectId) => {\n    const value = progressDrafts[projectId];\n    if (value === undefined) return;\n    try {\n      await onProgressUpdate(projectId, value);\n    } finally {\n      setProgressDrafts((prev) => {\n        const copy = { ...prev };\n        delete copy[projectId];\n        return copy;\n      });\n    }\n  };\n\n  return (\n    <section className=\"surface-card space-y-6\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <div className=\"relative flex-1 max-w-md\">\n          <Search size={16} className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400\" />\n          <input\n            className=\"w-full border-slate-200 pl-10 py-2 rounded-lg\"\n            placeholder=\"Search projects\"\n            value={search}\n            onChange={(event) => setSearch(event.target.value)}\n          />\n        </div>\n        <div className=\"flex items-center gap-3\">\n          <button type=\"button\" className=\"btn-secondary text-sm\">\n            <Filter size={16} />\n          </button>\n          <button className=\"p-2 hover:bg-slate-100 rounded-lg\">\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n              <path d=\"M3 12h18m-9-9v18\"/>\n            </svg>\n          </button>\n        </div>\n      </div>\n\n      <div className=\"overflow-hidden rounded-2xl border border-slate-200 bg-white\">\n        <table className=\"table-card text-sm\">\n          <thead>\n            <tr>\n              <th>PROJECT NAME</th>\n              <th>STATUS</th>\n              <th>PROGRESS</th>\n              <th>ACTIONS</th>\n            </tr>\n          </thead>\n          <tbody>\n            {filtered.length ? (\n              filtered.map((project) => {\n                const isSelected = project._id === selectedProjectId;\n                const rowProgress = progressDrafts[project._id] ?? project.progress ?? 0;\n                const busy = busyProjectIds?.has?.(project._id) ?? false;\n\n                return (\n                  <tr\n                    key={project._id}\n                    className={clsx(\n                      'cursor-pointer transition hover:bg-slate-50',\n                      isSelected && 'bg-slate-50',\n                    )}\n                    onClick={() => onSelect(project._id)}\n                  >\n                    <td>\n                      <div className=\"font-semibold text-slate-900\">{project.name}</div>\n                    </td>\n                    <td>\n                      <span\n                        className={clsx(\n                          'status-pill',\n                          statusTone[project.status] || 'bg-slate-100 text-slate-600',\n                        )}\n                      >\n                        {project.status}\n                      </span>\n                    </td>\n                    <td>\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"h-2 flex-1 rounded-full bg-slate-200\">\n                          <div\n                            className={clsx(\n                              'h-full rounded-full',\n                              project.status === 'Completed' ? 'bg-green-500' :\n                              project.status === 'In Progress' ? 'bg-blue-500' :\n                              project.status === 'On Hold' ? 'bg-orange-500' :\n                              project.status === 'Cancelled' ? 'bg-red-500' : 'bg-gray-400'\n                            )}\n                            style={{ width: `${rowProgress}%` }}\n                          />\n                        </div>\n                        <span className=\"w-12 text-right text-sm font-medium text-slate-900\">{rowProgress}%</span>\n                      </div>\n                    </td>\n                    <td>\n                      <div className=\"flex items-center gap-2\">\n                        <button\n                          type=\"button\"\n                          onClick={(event) => {\n                            event.stopPropagation();\n                          }}\n                          className=\"p-1 text-slate-400 hover:text-slate-600\"\n                        >\n                          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                            <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"/>\n                            <path d=\"m18.5 2.5 a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"/>\n                          </svg>\n                        </button>\n                        <button\n                          type=\"button\"\n                          onClick={(event) => {\n                            event.stopPropagation();\n                            onDelete(project._id);\n                          }}\n                          className=\"p-1 text-slate-400 hover:text-red-500\"\n                        >\n                          <Trash2 size={16} />\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                );\n              })\n            ) : (\n              <tr>\n                <td colSpan={4} className=\"py-10 text-center text-slate-500\">\n                  No projects yet. Use the button above to add your first project.\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n\n      {showForm && (\n        <form\n          id=\"project-create\"\n          onSubmit={handleSubmit}\n          className=\"grid gap-4 rounded-2xl border border-slate-200 bg-slate-50/60 p-5 md:grid-cols-2\"\n        >\n          <label className=\"flex flex-col gap-1 text-sm text-slate-600\">\n            Project name\n            <input\n              required\n              placeholder=\"Seaside Villa\"\n              value={form.name}\n              onChange={(event) => setForm((prev) => ({ ...prev, name: event.target.value }))}\n            />\n          </label>\n          <label className=\"flex flex-col gap-1 text-sm text-slate-600\">\n            Studio\n            <input\n              placeholder=\"Core Studio\"\n              value={form.studio}\n              onChange={(event) => setForm((prev) => ({ ...prev, studio: event.target.value }))}\n            />\n          </label>\n          <label className=\"flex flex-col gap-1 text-sm text-slate-600\">\n            Due date\n            <input\n              type=\"date\"\n              value={form.dueDate}\n              onChange={(event) => setForm((prev) => ({ ...prev, dueDate: event.target.value }))}\n            />\n          </label>\n          <label className=\"flex flex-col gap-1 text-sm text-slate-600\">\n            Accent color\n            <input\n              type=\"color\"\n              className=\"h-11 cursor-pointer rounded-xl border border-slate-200\"\n              value={form.color}\n              onChange={(event) => setForm((prev) => ({ ...prev, color: event.target.value }))}\n            />\n          </label>\n          <div className=\"md:col-span-2 flex justify-end\">\n            <button type=\"submit\" disabled={submitting} className=\"btn-primary\">\n              <Plus size={16} />\n              {submitting ? 'Creatingâ€¦' : 'Create project'}\n            </button>\n          </div>\n        </form>\n      )}\n    </section>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 593, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Documents/Programming/assignments/vznx/frontend/lib/api.js"],"sourcesContent":["const API_BASE = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:5000/api';\n\nasync function request(path, options = {}) {\n  const response = await fetch(`${API_BASE}${path}`, {\n    headers: {\n      'Content-Type': 'application/json',\n      ...(options.headers || {}),\n    },\n    ...options,\n    cache: 'no-store',\n  });\n\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({}));\n    throw new Error(error.message || 'Request failed');\n  }\n\n  if (response.status === 204) {\n    return null;\n  }\n\n  return response.json();\n}\n\nexport const api = {\n  getProjects: () => request('/projects'),\n  createProject: (payload) =>\n    request('/projects', {\n      method: 'POST',\n      body: JSON.stringify(payload),\n    }),\n  updateProject: (id, payload) =>\n    request(`/projects/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(payload),\n    }),\n  updateProjectProgress: (id, progress) =>\n    request(`/projects/${id}/progress`, {\n      method: 'PATCH',\n      body: JSON.stringify({ progress }),\n    }),\n  deleteProject: (id) =>\n    request(`/projects/${id}`, {\n      method: 'DELETE',\n    }),\n  getTasks: (projectId) => request(`/tasks/project/${projectId}`),\n  createTask: (payload) =>\n    request('/tasks', {\n      method: 'POST',\n      body: JSON.stringify(payload),\n    }),\n  toggleTaskStatus: (taskId, status) =>\n    request(`/tasks/${taskId}/status`, {\n      method: 'PATCH',\n      body: JSON.stringify({ status }),\n    }),\n  updateTask: (taskId, payload) =>\n    request(`/tasks/${taskId}`, {\n      method: 'PATCH',\n      body: JSON.stringify(payload),\n    }),\n  deleteTask: (taskId) =>\n    request(`/tasks/${taskId}`, {\n      method: 'DELETE',\n    }),\n  getTeamMembers: () => request('/team-members'),\n  createTeamMember: (payload) =>\n    request('/team-members', {\n      method: 'POST',\n      body: JSON.stringify(payload),\n    }),\n  updateTeamMember: (id, payload) =>\n    request(`/team-members/${id}`, {\n      method: 'PATCH',\n      body: JSON.stringify(payload),\n    }),\n  deleteTeamMember: (id) =>\n    request(`/team-members/${id}`, {\n      method: 'DELETE',\n    }),\n};\n"],"names":[],"mappings":";;;;AAAiB;AAAjB,MAAM,WAAW,2KAAO,CAAC,GAAG,CAAC,wBAAwB,IAAI;AAEzD,eAAe,QAAQ,IAAI,EAAE,UAAU,CAAC,CAAC;IACvC,MAAM,WAAW,MAAM,MAAM,GAAG,WAAW,MAAM,EAAE;QACjD,SAAS;YACP,gBAAgB;YAChB,GAAI,QAAQ,OAAO,IAAI,CAAC,CAAC;QAC3B;QACA,GAAG,OAAO;QACV,OAAO;IACT;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,QAAQ,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QACnD,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;IACnC;IAEA,IAAI,SAAS,MAAM,KAAK,KAAK;QAC3B,OAAO;IACT;IAEA,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,MAAM;IACjB,aAAa,IAAM,QAAQ;IAC3B,eAAe,CAAC,UACd,QAAQ,aAAa;YACnB,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;QACvB;IACF,eAAe,CAAC,IAAI,UAClB,QAAQ,CAAC,UAAU,EAAE,IAAI,EAAE;YACzB,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;QACvB;IACF,uBAAuB,CAAC,IAAI,WAC1B,QAAQ,CAAC,UAAU,EAAE,GAAG,SAAS,CAAC,EAAE;YAClC,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;gBAAE;YAAS;QAClC;IACF,eAAe,CAAC,KACd,QAAQ,CAAC,UAAU,EAAE,IAAI,EAAE;YACzB,QAAQ;QACV;IACF,UAAU,CAAC,YAAc,QAAQ,CAAC,eAAe,EAAE,WAAW;IAC9D,YAAY,CAAC,UACX,QAAQ,UAAU;YAChB,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;QACvB;IACF,kBAAkB,CAAC,QAAQ,SACzB,QAAQ,CAAC,OAAO,EAAE,OAAO,OAAO,CAAC,EAAE;YACjC,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;gBAAE;YAAO;QAChC;IACF,YAAY,CAAC,QAAQ,UACnB,QAAQ,CAAC,OAAO,EAAE,QAAQ,EAAE;YAC1B,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;QACvB;IACF,YAAY,CAAC,SACX,QAAQ,CAAC,OAAO,EAAE,QAAQ,EAAE;YAC1B,QAAQ;QACV;IACF,gBAAgB,IAAM,QAAQ;IAC9B,kBAAkB,CAAC,UACjB,QAAQ,iBAAiB;YACvB,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;QACvB;IACF,kBAAkB,CAAC,IAAI,UACrB,QAAQ,CAAC,cAAc,EAAE,IAAI,EAAE;YAC7B,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;QACvB;IACF,kBAAkB,CAAC,KACjB,QAAQ,CAAC,cAAc,EAAE,IAAI,EAAE;YAC7B,QAAQ;QACV;AACJ","debugId":null}},
    {"offset": {"line": 674, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Documents/Programming/assignments/vznx/frontend/components/TaskPanel.js"],"sourcesContent":["'use client';\n\nimport { useEffect, useMemo, useState } from 'react';\nimport { BadgeCheck, Loader2, Plus, Trash2 } from 'lucide-react';\nimport clsx from 'clsx';\nimport { api } from '../lib/api';\n\nconst priorityTone = {\n  High: 'text-rose-600 bg-rose-50 border border-rose-100',\n  Medium: 'text-amber-600 bg-amber-50 border border-amber-100',\n  Low: 'text-emerald-600 bg-emerald-50 border border-emerald-100',\n};\n\nexport default function TaskPanel({\n  project,\n  teamMembers = [],\n  onProjectUpdate,\n  onTeamRefresh = () => {},\n}) {\n  const [tasks, setTasks] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [form, setForm] = useState({ name: '', assigneeId: '', priority: 'Medium' });\n  const [submitting, setSubmitting] = useState(false);\n  const [busyTaskId, setBusyTaskId] = useState(null);\n\n  useEffect(() => {\n    let ignore = false;\n    const load = async () => {\n      if (!project?._id) {\n        setTasks([]);\n        return;\n      }\n      setLoading(true);\n      try {\n        const data = await api.getTasks(project._id);\n        if (!ignore) {\n          setTasks(data);\n        }\n      } catch (error) {\n        console.error('Failed to load tasks', error);\n      } finally {\n        if (!ignore) {\n          setLoading(false);\n        }\n      }\n    };\n\n    load();\n    return () => {\n      ignore = true;\n    };\n  }, [project?._id]);\n\n  const summary = useMemo(() => {\n    const completed = tasks.filter((task) => task.status === 'Complete').length;\n    return {\n      completed,\n      total: tasks.length,\n    };\n  }, [tasks]);\n\n  const pushProjectUpdate = (updatedProject, nextTasks) => {\n    if (!updatedProject || !onProjectUpdate) return;\n    const completed = nextTasks.filter((task) => task.status === 'Complete').length;\n    onProjectUpdate({\n      ...updatedProject,\n      taskSummary: {\n        total: nextTasks.length,\n        completed,\n      },\n    });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    if (!project?._id || !form.name.trim()) return;\n    try {\n      setSubmitting(true);\n      const payload = {\n        name: form.name,\n        projectId: project._id,\n        assigneeId: form.assigneeId || undefined,\n        priority: form.priority,\n      };\n      const { task, project: updatedProject } = await api.createTask(payload);\n      setTasks((prev) => {\n        const next = [task, ...prev];\n        pushProjectUpdate(updatedProject, next);\n        return next;\n      });\n      onTeamRefresh();\n      setForm({ name: '', assigneeId: '', priority: 'Medium' });\n    } catch (error) {\n      console.error('Failed to create task', error);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const toggleStatus = async (task) => {\n    try {\n      setBusyTaskId(task._id);\n      const nextStatus = task.status === 'Complete' ? 'Incomplete' : 'Complete';\n      const { task: updatedTask, project: updatedProject } = await api.toggleTaskStatus(\n        task._id,\n        nextStatus,\n      );\n      setTasks((prev) => {\n        const next = prev.map((item) => (item._id === task._id ? updatedTask : item));\n        pushProjectUpdate(updatedProject, next);\n        return next;\n      });\n      onTeamRefresh();\n    } catch (error) {\n      console.error('Failed to toggle task', error);\n    } finally {\n      setBusyTaskId(null);\n    }\n  };\n\n  const removeTask = async (task) => {\n    try {\n      setBusyTaskId(task._id);\n      const { project: updatedProject } = await api.deleteTask(task._id);\n      setTasks((prev) => {\n        const next = prev.filter((item) => item._id !== task._id);\n        pushProjectUpdate(updatedProject, next);\n        return next;\n      });\n      onTeamRefresh();\n    } catch (error) {\n      console.error('Failed to delete task', error);\n    } finally {\n      setBusyTaskId(null);\n    }\n  };\n\n  return (\n    <section className=\"surface-card space-y-5\">\n      <header className=\"flex items-start justify-between gap-3\">\n        <div>\n          <p className=\"text-xs font-semibold uppercase tracking-[0.35em] text-slate-400\">\n            Tasks\n          </p>\n          <h2 className=\"mt-2 text-2xl font-semibold text-slate-900\">\n            {project ? project.name : 'Select a project'}\n          </h2>\n          <p className=\"text-sm text-slate-500\">\n            {project\n              ? `Client deliverables due ${project.dueDate ? new Date(project.dueDate).toLocaleDateString() : 'TBD'}.`\n              : 'Pick a project from the list to see and manage its tasks.'}\n          </p>\n        </div>\n        <div className=\"rounded-2xl border border-slate-200 px-4 py-2 text-right\">\n          <p className=\"text-[10px] uppercase tracking-[0.35em] text-slate-400\">Complete</p>\n          <p className=\"text-2xl font-semibold text-slate-900\">\n            {summary.completed}/{summary.total}\n          </p>\n        </div>\n      </header>\n\n      <form\n        onSubmit={handleSubmit}\n        className=\"grid gap-3 rounded-2xl border border-slate-200 bg-slate-50/60 p-4\"\n      >\n        <div className=\"flex flex-col gap-1 text-sm text-slate-600\">\n          Task name\n          <input\n            placeholder=\"Draft initial blueprints\"\n            value={form.name}\n            onChange={(event) => setForm((prev) => ({ ...prev, name: event.target.value }))}\n            disabled={!project}\n          />\n        </div>\n        <div className=\"grid gap-3 sm:grid-cols-2\">\n          <label className=\"flex flex-col gap-1 text-sm text-slate-600\">\n            Priority\n            <select\n              value={form.priority}\n              onChange={(event) => setForm((prev) => ({ ...prev, priority: event.target.value }))}\n              disabled={!project}\n            >\n              {['High', 'Medium', 'Low'].map((level) => (\n                <option key={level} value={level}>\n                  {level}\n                </option>\n              ))}\n            </select>\n          </label>\n          <label className=\"flex flex-col gap-1 text-sm text-slate-600\">\n            Assignee\n            <select\n              value={form.assigneeId}\n              onChange={(event) => setForm((prev) => ({ ...prev, assigneeId: event.target.value }))}\n              disabled={!project}\n            >\n              <option value=\"\">Unassigned</option>\n              {teamMembers.map((member) => (\n                <option key={member._id} value={member._id}>\n                  {member.name}\n                </option>\n              ))}\n            </select>\n          </label>\n        </div>\n        <div className=\"flex justify-end\">\n          <button type=\"submit\" className=\"btn-primary\" disabled={submitting || !project}>\n            {submitting ? <Loader2 size={16} className=\"animate-spin\" /> : <Plus size={16} />}\n            {submitting ? 'Adding' : 'Add task'}\n          </button>\n        </div>\n      </form>\n\n      <div className=\"space-y-3\">\n        {loading ? (\n          <div className=\"flex h-32 items-center justify-center rounded-2xl border border-slate-200 bg-white text-slate-400\">\n            <Loader2 className=\"animate-spin\" />\n          </div>\n        ) : tasks.length ? (\n          tasks.map((task) => (\n            <article\n              key={task._id}\n              className=\"flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3\"\n            >\n              <div className=\"flex-1\">\n                <div className=\"flex items-center gap-2\">\n                  <button\n                    type=\"button\"\n                    onClick={() => toggleStatus(task)}\n                    className={clsx(\n                      'rounded-full border p-1',\n                      task.status === 'Complete'\n                        ? 'border-emerald-400 bg-emerald-50 text-emerald-600'\n                        : 'border-slate-200 text-slate-400',\n                    )}\n                  >\n                    {busyTaskId === task._id ? (\n                      <Loader2 size={16} className=\"animate-spin\" />\n                    ) : (\n                      <BadgeCheck size={16} />\n                    )}\n                  </button>\n                  <div>\n                    <p\n                      className={clsx(\n                        'font-semibold',\n                        task.status === 'Complete' ? 'text-slate-400 line-through' : 'text-slate-900',\n                      )}\n                    >\n                      {task.name}\n                    </p>\n                    <div className=\"mt-1 flex flex-wrap items-center gap-2 text-xs text-slate-500\">\n                      <span className={clsx('status-pill border px-3 py-1', priorityTone[task.priority])}>\n                        {task.priority} priority\n                      </span>\n                      <span>{task.assignee?.name || 'Unassigned'}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <button\n                type=\"button\"\n                onClick={() => removeTask(task)}\n                className=\"rounded-full border border-slate-200 p-2 text-slate-400 hover:border-rose-200 hover:text-rose-500\"\n                disabled={busyTaskId === task._id}\n              >\n                <Trash2 size={16} />\n              </button>\n            </article>\n          ))\n        ) : (\n          <div className=\"rounded-2xl border border-dashed border-slate-300 bg-white px-4 py-8 text-center text-slate-500\">\n            {project ? 'No tasks for this project yet.' : 'Select a project to see its tasks.'}\n          </div>\n        )}\n      </div>\n    </section>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1207, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Documents/Programming/assignments/vznx/frontend/components/TeamOverview.js"],"sourcesContent":["'use client';\n\nimport { motion } from 'framer-motion';\n\nexport default function TeamOverview({ teamMembers = [] }) {\n  const initials = (name = '') => {\n    const [first = '', second = ''] = name.split(' ');\n    return `${first.charAt(0)}${second.charAt(0)}`.toUpperCase() || name.charAt(0).toUpperCase();\n  };\n\n  const getProgressColor = (workload) => {\n    if (workload === 100) return 'bg-red-500';\n    if (workload >= 80) return 'bg-orange-500';\n    if (workload >= 60) return 'bg-yellow-500';\n    return 'bg-green-500';\n  };\n\n  return (\n    <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n      {teamMembers.length > 0 ? teamMembers.map((member, index) => {\n        const tasks = Array.isArray(member.tasks) ? member.tasks.length : member.taskCount || 0;\n        const capacity = member.capacity || 5;\n        const workload = capacity ? Math.min(100, Math.round((tasks / capacity) * 100)) : 0;\n\n        return (\n          <motion.div\n            key={member._id}\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.3, delay: index * 0.1 }}\n            whileHover={{ y: -4, transition: { duration: 0.2 } }}\n            className=\"bg-white rounded-2xl p-6 border border-slate-200 shadow-sm hover:shadow-md transition-shadow\"\n          >\n            <div className=\"flex items-center gap-4 mb-5\">\n              <div className=\"w-16 h-16 rounded-full bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center text-lg font-semibold text-slate-700\">\n                {initials(member.name)}\n              </div>\n              <div className=\"flex-1\">\n                <h3 className=\"font-semibold text-slate-900 text-lg\">{member.name}</h3>\n                <p className=\"text-slate-500 text-sm\">{member.role}</p>\n              </div>\n            </div>\n            \n            <div>\n              <div className=\"flex items-center justify-between mb-2\">\n                <span className=\"text-sm text-slate-600\">{tasks} tasks assigned</span>\n                <span className=\"text-sm font-semibold text-slate-900\">{tasks}/{capacity} Tasks</span>\n              </div>\n              <div className=\"w-full bg-slate-200 rounded-full h-2.5 overflow-hidden\">\n                <motion.div\n                  initial={{ width: 0 }}\n                  animate={{ width: `${Math.min(workload, 100)}%` }}\n                  transition={{ duration: 0.8, delay: index * 0.1 + 0.2, ease: \"easeOut\" }}\n                  className={`h-full rounded-full ${getProgressColor(workload)}`}\n                />\n              </div>\n            </div>\n          </motion.div>\n        );\n      }) : (\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          className=\"col-span-full text-center py-12 text-slate-500\"\n        >\n          No team members yet. Add team members to track workload.\n        </motion.div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS,aAAa,EAAE,cAAc,EAAE,EAAE;IACvD,MAAM,WAAW,CAAC,OAAO,EAAE;QACzB,MAAM,CAAC,QAAQ,EAAE,EAAE,SAAS,EAAE,CAAC,GAAG,KAAK,KAAK,CAAC;QAC7C,OAAO,GAAG,MAAM,MAAM,CAAC,KAAK,OAAO,MAAM,CAAC,IAAI,CAAC,WAAW,MAAM,KAAK,MAAM,CAAC,GAAG,WAAW;IAC5F;IAEA,MAAM,mBAAmB,CAAC;QACxB,IAAI,aAAa,KAAK,OAAO;QAC7B,IAAI,YAAY,IAAI,OAAO;QAC3B,IAAI,YAAY,IAAI,OAAO;QAC3B,OAAO;IACT;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACZ,YAAY,MAAM,GAAG,IAAI,YAAY,GAAG,CAAC,CAAC,QAAQ;YACjD,MAAM,QAAQ,MAAM,OAAO,CAAC,OAAO,KAAK,IAAI,OAAO,KAAK,CAAC,MAAM,GAAG,OAAO,SAAS,IAAI;YACtF,MAAM,WAAW,OAAO,QAAQ,IAAI;YACpC,MAAM,WAAW,uCAAW,KAAK,GAAG,CAAC,KAAK,KAAK,KAAK,CAAC,AAAC,QAAQ,WAAY,QAAQ;YAElF,qBACE,6LAAC,uMAAM,CAAC,GAAG;gBAET,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAG;gBAC7B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,YAAY;oBAAE,UAAU;oBAAK,OAAO,QAAQ;gBAAI;gBAChD,YAAY;oBAAE,GAAG,CAAC;oBAAG,YAAY;wBAAE,UAAU;oBAAI;gBAAE;gBACnD,WAAU;;kCAEV,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CACZ,SAAS,OAAO,IAAI;;;;;;0CAEvB,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAG,WAAU;kDAAwC,OAAO,IAAI;;;;;;kDACjE,6LAAC;wCAAE,WAAU;kDAA0B,OAAO,IAAI;;;;;;;;;;;;;;;;;;kCAItD,6LAAC;;0CACC,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAK,WAAU;;4CAA0B;4CAAM;;;;;;;kDAChD,6LAAC;wCAAK,WAAU;;4CAAwC;4CAAM;4CAAE;4CAAS;;;;;;;;;;;;;0CAE3E,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC,uMAAM,CAAC,GAAG;oCACT,SAAS;wCAAE,OAAO;oCAAE;oCACpB,SAAS;wCAAE,OAAO,GAAG,KAAK,GAAG,CAAC,UAAU,KAAK,CAAC,CAAC;oCAAC;oCAChD,YAAY;wCAAE,UAAU;wCAAK,OAAO,QAAQ,MAAM;wCAAK,MAAM;oCAAU;oCACvE,WAAW,CAAC,oBAAoB,EAAE,iBAAiB,WAAW;;;;;;;;;;;;;;;;;;eA3B/D,OAAO,GAAG;;;;;QAiCrB,mBACE,6LAAC,uMAAM,CAAC,GAAG;YACT,SAAS;gBAAE,SAAS;YAAE;YACtB,SAAS;gBAAE,SAAS;YAAE;YACtB,WAAU;sBACX;;;;;;;;;;;AAMT;KAlEwB","debugId":null}},
    {"offset": {"line": 1398, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Documents/Programming/assignments/vznx/frontend/components/StudioInsights.js"],"sourcesContent":["'use client';\n\nimport { AlertTriangle, CalendarClock, Activity } from 'lucide-react';\nimport clsx from 'clsx';\n\nconst formatDate = (value) => {\n  if (!value) return 'No due date';\n  try {\n    return new Intl.DateTimeFormat('en', { month: 'short', day: 'numeric' }).format(new Date(value));\n  } catch (error) {\n    return 'No due date';\n  }\n};\n\nconst getWorkload = (member) => {\n  if (typeof member?.workload === 'number') {\n    return Math.round(member.workload);\n  }\n  const capacity = member?.capacity || 5;\n  const assigned =\n    (Array.isArray(member?.tasks) ? member.tasks.length : member?.taskCount || 0) || 0;\n  if (!capacity) {\n    return 0;\n  }\n  return Math.min(100, Math.round((assigned / capacity) * 100));\n};\n\nexport default function StudioInsights({ projects = [], teamMembers = [] }) {\n  const now = Date.now();\n  const upcomingWindow = now + 1000 * 60 * 60 * 24 * 7;\n\n  const overdue = projects\n    .filter(\n      (project) =>\n        project?.dueDate &&\n        new Date(project.dueDate).getTime() < now &&\n        project.status !== 'Completed',\n    )\n    .sort((a, b) => new Date(a.dueDate) - new Date(b.dueDate));\n\n  const dueSoon = projects\n    .filter((project) => {\n      if (!project?.dueDate || project.status === 'Completed') return false;\n      const time = new Date(project.dueDate).getTime();\n      return time >= now && time <= upcomingWindow;\n    })\n    .sort((a, b) => new Date(a.dueDate) - new Date(b.dueDate));\n\n  const capacityAlerts = teamMembers\n    .map((member) => ({ ...member, computedWorkload: getWorkload(member) }))\n    .filter((member) => member.computedWorkload >= 90)\n    .sort((a, b) => b.computedWorkload - a.computedWorkload);\n\n  const statCards = [\n    {\n      label: 'Overdue briefs',\n      value: overdue.length,\n      icon: AlertTriangle,\n      accent: 'text-rose-600',\n      tone: 'bg-rose-50 border-rose-100',\n    },\n    {\n      label: 'Due this week',\n      value: dueSoon.length,\n      icon: CalendarClock,\n      accent: 'text-amber-600',\n      tone: 'bg-amber-50 border-amber-100',\n    },\n    {\n      label: 'Capacity alerts',\n      value: capacityAlerts.length,\n      icon: Activity,\n      accent: 'text-blue-600',\n      tone: 'bg-blue-50 border-blue-100',\n    },\n  ];\n\n  return (\n    <section className=\"surface-card space-y-5\">\n      <header>\n        <p className=\"text-xs font-semibold uppercase tracking-[0.35em] text-slate-400\">Insights</p>\n        <h2 className=\"mt-2 text-2xl font-semibold text-slate-900\">Studio pulse</h2>\n        <p className=\"text-sm text-slate-500\">auto-generated alerts from live project data.</p>\n      </header>\n\n      <div className=\"grid gap-3 sm:grid-cols-3\">\n        {statCards.map((card) => {\n          const Icon = card.icon;\n          return (\n            <article\n              key={card.label}\n              className={clsx(\n                'rounded-2xl border px-4 py-3',\n                card.tone,\n                'flex items-center gap-3 text-sm font-semibold',\n              )}\n            >\n              <Icon size={18} className={card.accent} />\n              <div>\n                <p className=\"text-xs uppercase tracking-[0.3em] text-slate-500\">{card.label}</p>\n                <p className={clsx('text-2xl', card.accent)}>{card.value}</p>\n              </div>\n            </article>\n          );\n        })}\n      </div>\n\n      <div className=\"space-y-4\">\n        <section className=\"rounded-2xl border border-slate-200 bg-white p-4\">\n          <div className=\"flex items-center justify-between\">\n            <p className=\"font-semibold text-slate-900\">Delivery timeline</p>\n            <span className=\"text-xs text-slate-500\">Next 7 days</span>\n          </div>\n          <div className=\"mt-3 space-y-3\">\n            {dueSoon.length || overdue.length ? (\n              [...overdue, ...dueSoon].slice(0, 4).map((project) => (\n                <div\n                  key={project._id}\n                  className=\"flex items-center justify-between gap-3 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2\"\n                >\n                  <div>\n                    <p className=\"font-semibold text-slate-900\">{project.name}</p>\n                    <p className=\"text-xs text-slate-500\">Due {formatDate(project.dueDate)}</p>\n                  </div>\n                  <span className=\"text-xs font-semibold text-slate-500\">\n                    {project.taskSummary?.completed || 0}/{project.taskSummary?.total || 0} tasks\n                  </span>\n                </div>\n              ))\n            ) : (\n              <p className=\"rounded-xl border border-dashed border-slate-300 px-3 py-4 text-center text-sm text-slate-500\">\n                All upcoming deadlines are on track.\n              </p>\n            )}\n          </div>\n        </section>\n\n        <section className=\"rounded-2xl border border-slate-200 bg-white p-4\">\n          <div className=\"flex items-center justify-between\">\n            <p className=\"font-semibold text-slate-900\">Capacity watchlist</p>\n            <span className=\"text-xs text-slate-500\">Target &lt; 90%</span>\n          </div>\n          <div className=\"mt-3 space-y-3\">\n            {capacityAlerts.length ? (\n              capacityAlerts.slice(0, 4).map((member) => (\n                <div\n                  key={member._id}\n                  className=\"flex items-center justify-between gap-3 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2\"\n                >\n                  <div>\n                    <p className=\"font-semibold text-slate-900\">{member.name}</p>\n                    <p className=\"text-xs text-slate-500\">{member.role}</p>\n                  </div>\n                  <span className=\"rounded-full bg-rose-100 px-3 py-1 text-xs font-semibold text-rose-600\">\n                    {member.computedWorkload}% load\n                  </span>\n                </div>\n              ))\n            ) : (\n              <p className=\"rounded-xl border border-dashed border-slate-300 px-3 py-4 text-center text-sm text-slate-500\">\n                No team members are over capacity.\n              </p>\n            )}\n          </div>\n        </section>\n      </div>\n    </section>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1772, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Documents/Programming/assignments/vznx/frontend/hooks/useWorkspace.js"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { api } from '../lib/api';\n\nexport const normalizeProject = (project) => ({\n  ...project,\n  taskSummary: project.taskSummary ?? { total: 0, completed: 0 },\n});\n\nexport default function useWorkspace() {\n  const [projects, setProjects] = useState([]);\n  const [teamMembers, setTeamMembers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [projectSyncing, setProjectSyncing] = useState(() => new Set());\n\n  useEffect(() => {\n    let cancelled = false;\n\n    const bootstrap = async () => {\n      setLoading(true);\n      try {\n        const [projectsResponse, teamResponse] = await Promise.all([\n          api.getProjects(),\n          api.getTeamMembers(),\n        ]);\n        if (!cancelled) {\n          setProjects(projectsResponse.map(normalizeProject));\n          setTeamMembers(teamResponse);\n        }\n      } catch (error) {\n        console.error('Failed to load workspace data', error);\n      } finally {\n        if (!cancelled) {\n          setLoading(false);\n        }\n      }\n    };\n\n    bootstrap();\n    return () => {\n      cancelled = true;\n    };\n  }, []);\n\n  const handleProjectCreate = async (payload) => {\n    const project = await api.createProject(payload);\n    const normalized = normalizeProject(project);\n    setProjects((prev) => [normalized, ...prev]);\n    return normalized;\n  };\n\n  const handleProjectDelete = async (projectId) => {\n    await api.deleteProject(projectId);\n    setProjects((prev) => prev.filter((item) => item._id !== projectId));\n  };\n\n  const handleProgressUpdate = async (projectId, progressValue) => {\n    setProjectSyncing((prev) => {\n      const next = new Set(prev);\n      next.add(projectId);\n      return next;\n    });\n    try {\n      const updated = await api.updateProjectProgress(projectId, progressValue);\n      setProjects((prev) =>\n        prev.map((project) =>\n          project._id === projectId ? normalizeProject({ ...project, ...updated }) : project,\n        ),\n      );\n    } finally {\n      setProjectSyncing((prev) => {\n        const next = new Set(prev);\n        next.delete(projectId);\n        return next;\n      });\n    }\n  };\n\n  const handleProjectHydrate = (updatedProject) => {\n    if (!updatedProject) return;\n    setProjects((prev) =>\n      prev.map((project) => (project._id === updatedProject._id ? normalizeProject(updatedProject) : project)),\n    );\n  };\n\n  const refreshTeam = async () => {\n    const list = await api.getTeamMembers();\n    setTeamMembers(list);\n  };\n\n  const handleTeamCreate = async (payload) => {\n    await api.createTeamMember(payload);\n    await refreshTeam();\n  };\n\n  return {\n    projects,\n    teamMembers,\n    loading,\n    projectSyncing,\n    handleProjectCreate,\n    handleProjectDelete,\n    handleProgressUpdate,\n    handleProjectHydrate,\n    refreshTeam,\n    handleTeamCreate,\n  };\n}\n"],"names":[],"mappings":";;;;;;AAEA;AACA;;AAHA;;;AAKO,MAAM,mBAAmB,CAAC,UAAY,CAAC;QAC5C,GAAG,OAAO;QACV,aAAa,QAAQ,WAAW,IAAI;YAAE,OAAO;YAAG,WAAW;QAAE;IAC/D,CAAC;AAEc,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC,EAAE;IAC3C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC,EAAE;IACjD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ;iCAAC,IAAM,IAAI;;IAE/D,IAAA,0KAAS;kCAAC;YACR,IAAI,YAAY;YAEhB,MAAM;oDAAY;oBAChB,WAAW;oBACX,IAAI;wBACF,MAAM,CAAC,kBAAkB,aAAa,GAAG,MAAM,QAAQ,GAAG,CAAC;4BACzD,oHAAG,CAAC,WAAW;4BACf,oHAAG,CAAC,cAAc;yBACnB;wBACD,IAAI,CAAC,WAAW;4BACd,YAAY,iBAAiB,GAAG,CAAC;4BACjC,eAAe;wBACjB;oBACF,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,iCAAiC;oBACjD,SAAU;wBACR,IAAI,CAAC,WAAW;4BACd,WAAW;wBACb;oBACF;gBACF;;YAEA;YACA;0CAAO;oBACL,YAAY;gBACd;;QACF;iCAAG,EAAE;IAEL,MAAM,sBAAsB,OAAO;QACjC,MAAM,UAAU,MAAM,oHAAG,CAAC,aAAa,CAAC;QACxC,MAAM,aAAa,iBAAiB;QACpC,YAAY,CAAC,OAAS;gBAAC;mBAAe;aAAK;QAC3C,OAAO;IACT;IAEA,MAAM,sBAAsB,OAAO;QACjC,MAAM,oHAAG,CAAC,aAAa,CAAC;QACxB,YAAY,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,OAAS,KAAK,GAAG,KAAK;IAC3D;IAEA,MAAM,uBAAuB,OAAO,WAAW;QAC7C,kBAAkB,CAAC;YACjB,MAAM,OAAO,IAAI,IAAI;YACrB,KAAK,GAAG,CAAC;YACT,OAAO;QACT;QACA,IAAI;YACF,MAAM,UAAU,MAAM,oHAAG,CAAC,qBAAqB,CAAC,WAAW;YAC3D,YAAY,CAAC,OACX,KAAK,GAAG,CAAC,CAAC,UACR,QAAQ,GAAG,KAAK,YAAY,iBAAiB;wBAAE,GAAG,OAAO;wBAAE,GAAG,OAAO;oBAAC,KAAK;QAGjF,SAAU;YACR,kBAAkB,CAAC;gBACjB,MAAM,OAAO,IAAI,IAAI;gBACrB,KAAK,MAAM,CAAC;gBACZ,OAAO;YACT;QACF;IACF;IAEA,MAAM,uBAAuB,CAAC;QAC5B,IAAI,CAAC,gBAAgB;QACrB,YAAY,CAAC,OACX,KAAK,GAAG,CAAC,CAAC,UAAa,QAAQ,GAAG,KAAK,eAAe,GAAG,GAAG,iBAAiB,kBAAkB;IAEnG;IAEA,MAAM,cAAc;QAClB,MAAM,OAAO,MAAM,oHAAG,CAAC,cAAc;QACrC,eAAe;IACjB;IAEA,MAAM,mBAAmB,OAAO;QAC9B,MAAM,oHAAG,CAAC,gBAAgB,CAAC;QAC3B,MAAM;IACR;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF;GAlGwB","debugId":null}},
    {"offset": {"line": 1897, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Documents/Programming/assignments/vznx/frontend/app/page.js"],"sourcesContent":["'use client';\n\nimport { useEffect, useMemo, useState } from 'react';\nimport ProjectDashboard from '../components/ProjectDashboard';\nimport TaskPanel from '../components/TaskPanel';\nimport TeamOverview from '../components/TeamOverview';\nimport StudioInsights from '../components/StudioInsights';\nimport useWorkspace from '../hooks/useWorkspace';\n\nexport default function HomePage() {\n  const [selectedProjectId, setSelectedProjectId] = useState(null);\n  const {\n    projects,\n    teamMembers,\n    loading,\n    projectSyncing,\n    handleProjectCreate: createProjectApi,\n    handleProjectDelete: deleteProjectApi,\n    handleProgressUpdate,\n    handleProjectHydrate,\n    refreshTeam,\n    handleTeamCreate: createTeamMember,\n  } = useWorkspace();\n\n  useEffect(() => {\n    if (!projects.length) {\n      if (selectedProjectId !== null) {\n        setSelectedProjectId(null);\n      }\n      return;\n    }\n    const exists = projects.some((project) => project._id === selectedProjectId);\n    if (!exists) {\n      setSelectedProjectId(projects[0]._id);\n    }\n  }, [projects, selectedProjectId]);\n\n  const handleProjectCreate = async (payload) => {\n    const project = await createProjectApi(payload);\n    setSelectedProjectId(project?._id ?? null);\n  };\n\n  const handleProjectDelete = async (projectId) => {\n    await deleteProjectApi(projectId);\n  };\n\n  const handleTeamCreate = createTeamMember;\n\n  const selectedProject = useMemo(() => {\n    if (!projects.length) {\n      return null;\n    }\n    return projects.find((project) => project._id === selectedProjectId) ?? projects[0];\n  }, [projects, selectedProjectId]);\n\n  const studioSnapshot = useMemo(() => {\n    const totalProjects = projects.length;\n    const completed = projects.filter((project) => project.status === 'Completed').length;\n    const active = totalProjects - completed;\n    const tasks = projects.reduce((acc, project) => acc + (project.taskSummary?.total || 0), 0);\n    const now = Date.now();\n    const dueSoonBoundary = now + 1000 * 60 * 60 * 24 * 7;\n    const dueSoon = projects.filter((project) => {\n      if (!project?.dueDate || project.status === 'Completed') return false;\n      const time = new Date(project.dueDate).getTime();\n      return time >= now && time <= dueSoonBoundary;\n    }).length;\n    const studioCount = new Set(projects.map((project) => project.studio).filter(Boolean)).size;\n\n    return {\n      totalProjects,\n      active,\n      completed,\n      tasks,\n      dueSoon,\n      studios: studioCount,\n    };\n  }, [projects]);\n\n  const overviewStats = useMemo(\n    () => [\n      { label: 'Projects', value: studioSnapshot.totalProjects, caption: 'Total in studio' },\n      { label: 'Active', value: studioSnapshot.active, caption: 'Currently in delivery' },\n      { label: 'Completed', value: studioSnapshot.completed, caption: 'Shipped this quarter' },\n      { label: 'Due this week', value: studioSnapshot.dueSoon, caption: 'Need follow-up' },\n    ],\n    [studioSnapshot],\n  );\n\n  if (loading) {\n    return (\n      <main className=\"flex min-h-screen items-center justify-center text-slate-400\">\n        <div className=\"space-y-2 text-center\">\n          <p className=\"text-sm uppercase tracking-[0.3em]\">Loading studio</p>\n          <div className=\"h-1 w-40 overflow-hidden rounded-full bg-white/10\">\n            <div className=\"h-full w-1/2 animate-pulse rounded-full bg-sky-400\" />\n          </div>\n        </div>\n      </main>\n    );\n  }\n\n  return (\n    <main className=\"space-y-8\">\n      <header className=\"surface-card space-y-4\">\n        <div>\n          <p className=\"text-xs font-semibold uppercase tracking-[0.35em] text-slate-400\">Dashboard</p>\n          <h1 className=\"mt-2 text-3xl font-semibold text-slate-900\">Arch studio overview</h1>\n          <p className=\"text-sm text-slate-500\">\n            Manage and track all your firmâ€™s projects, tasks, and teams in one calm workspace.\n          </p>\n        </div>\n        <div className=\"grid gap-3 sm:grid-cols-2 lg:grid-cols-4\">\n          {overviewStats.map((stat) => (\n            <article key={stat.label} className=\"rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3\">\n              <p className=\"text-[11px] uppercase tracking-[0.35em] text-slate-400\">{stat.label}</p>\n              <p className=\"mt-2 text-2xl font-semibold text-slate-900\">{stat.value ?? 0}</p>\n              <p className=\"text-xs text-slate-500\">{stat.caption}</p>\n            </article>\n          ))}\n        </div>\n      </header>\n\n      <ProjectDashboard\n        projects={projects}\n        selectedProjectId={selectedProjectId}\n        onSelect={setSelectedProjectId}\n        onCreate={handleProjectCreate}\n        onDelete={handleProjectDelete}\n        onProgressUpdate={handleProgressUpdate}\n        busyProjectIds={projectSyncing}\n      />\n\n      <section className=\"grid gap-6 xl:grid-cols-[1.1fr_0.9fr]\">\n        <TaskPanel\n          project={selectedProject}\n          teamMembers={teamMembers}\n          onProjectUpdate={handleProjectHydrate}\n          onTeamRefresh={refreshTeam}\n        />\n        <StudioInsights projects={projects} teamMembers={teamMembers} />\n      </section>\n\n      <TeamOverview teamMembers={teamMembers} onCreate={handleTeamCreate} />\n    </main>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}